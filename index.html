<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>Sensores Compostera</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <div>
            <h2>Estadísticas Compostera</h2>
            <input type="file" id="fileInput" accept=".csv">
            <h3>Graficas</h3>
            <div class="buttons">
                <button onclick="updateChart('Humedad')">Humedad</button>
                <button onclick="updateChart('Acidez')">Acidez</button>
                <button onclick="updateChart('Temperatura')">Temperatura</button>
            </div>
            <h3>Últimas Mediciones</h3>
            <p>Humedad: <span id="humidityValue">Cargando medicion</span></p>
            <p>Acidez (pH): <span id="phValue">Cargando medicion</span></p>
            <p>Temperatura: <span id="temperatureValue">Cargando medicion</span></p>

            <button type="button" onclick="loadSensorData()">Cargar Datos del Sensor</button>

            <div class="form-container">
                <h3>Agregar Nueva Medición</h3>
                <form id="addForm">
                    <label for="newFecha">Fecha (DD-MM-YYYY):</label>
                    <input type="text" id="newFecha">
                    <label for="newHumedad">Humedad:</label>
                    <input type="number" id="newHumedad">
                    <label for="newAcidez">Acidez:</label>
                    <input type="number" id="newAcidez">
                    <label for="newTemperatura">Temperatura:</label>
                    <input type="number" id="newTemperatura">
                    <label for="newContenedor">Contenedor:</label>
                    <input type="number" id="newContenedor">

                    <button type="button" onclick="addNewMeasurement()">Agregar</button>
                    <button onclick="downloadCSV()">Descargar CSV</button>
                </form>
            </div>
            <br>
        </div>

        <div class="table-container">
            <table class="styled_table" style="margin-top: 148px;">
                <thead>
                    <tr style="border-radius: 40px;">
                        <th>Fecha</th>
                        <th>Humedad</th>
                        <th>Acidez</th>
                        <th>Temperatura</th>
                        <th>Contenedor</th>
                    </tr>
                </thead>
                <tbody id="dataBody"></tbody>
            </table>
        </div>

        <div style="margin-top: 148px;">
            <svg id="lineChart" width="600" height="300"></svg>
        </div>

        <div class="tooltip" id="tooltip"></div>

        <script src="main.js"></script>
    </body>
</html>